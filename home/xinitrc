#!/bin/sh

if [ -d /etc/X11/xinit/xinitrc.d ]
then
	for f in /etc/X11/xinit/xinitrc.d/?*.sh
	do [ -x "$f" ] && . "$f"
	done
	unset f
fi

export GTK_USE_PORTAL=1
export GTK_IM_MODULE=ibus
export QT_IM_MODULE=ibus
export XMODIFIERS=@im=ibus

xrdb -merge ~/.Xresources
ibus-daemon -xdr
dunst -font 'Sans 16' &
dbus-launch sxhkd -m -1 &
emacs --daemon

if test "$HOSTNAME" = cleome
then
	setxkbmap slatin
	redshift-service &
	unclutter --timeout 1 &
else
	xinput set-button-map 14 3 2 1
	xinput set-prop 14 315 1
	xinput set-prop 14 328 1
	picom &
fi

xwallpaper --maximize wallpaper &

exec dbus-launch dwm
#exec dbus-launch xterm
